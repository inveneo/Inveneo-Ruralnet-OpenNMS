<?xml version="1.0" encoding="UTF-8"?>
<http-datacollection-config  
    xmlns:http-dc="http://xmlns.opennms.org/xsd/config/http-datacollection" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://xmlns.opennms.org/xsd/config/http-datacollection http://www.opennms.org/xsd/config/http-datacollection-config.xsd" 
    rrdRepository="/var/lib/opennms/rrd/snmp/" >
  <!--
  <http-collection name="doc-count">
    <rrd step="300">
      <rra>RRA:AVERAGE:0.5:1:2016</rra>
      <rra>RRA:AVERAGE:0.5:12:1488</rra>
      <rra>RRA:AVERAGE:0.5:288:366</rra>
      <rra>RRA:MAX:0.5:288:366</rra>
      <rra>RRA:MIN:0.5:288:366</rra>
    </rrd>
    <uris>
      <uri name="document-counts">
        <url path="/test/resources/httpcolltest.html"
             user-agent="Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en) AppleWebKit/412 (KHTML, like Gecko) Safari/412" 
             matches=".*([0-9]+).*" response-range="100-399" >
        </url>
        <attributes>
          <attrib alias="documentCount" match-group="1" type="counter32"/>
        </attributes>
      </uri>
    </uris>
  </http-collection>
  -->

  <http-collection name="ubnthttp">
    <rrd step="300">
      <rra>RRA:AVERAGE:0.5:1:8928</rra>
      <rra>RRA:AVERAGE:0.5:12:8784</rra>
      <rra>RRA:MIN:0.5:12:8784</rra>
      <rra>RRA:MAX:0.5:12:8784</rra>
    </rrd>
    <uris>
      <uri name="UbntHttp">
        <url method="GET"
	     http-version="1.0"
             user-agent="OpenNMS 1.8 HttpCollector"
	     host="127.0.0.1"
	     port="80"
	     path="/cgi-bin/ubnt_status.cgi"
	     query="ip=${ipaddr}"
	     matches="(?s).*speed.:\s([0-9]+).*signal.:\s([-0-9]+).*noisef.:\s([-0-9]+).*ack.:\s([0-9]+).*ccq.:\s([0-9]+).*txrate.:\s.([\.0-9]+).*rxrate.:\s.([\.0-9]+).*count.:\s([0-9]+).*"
             response-range="100-399" >
        </url>
        <attributes>
	  <attrib alias="ubntLanIfSpeed" match-group="1" type="gauge32"/>
	  <attrib alias="ubntSignal" match-group="2" type="gauge32"/>
	  <attrib alias="ubntNoise" match-group="3" type="gauge32"/>
	  <attrib alias="ubntAck" match-group="4" type="gauge32"/>
          <attrib alias="ubntCcq" match-group="5" type="gauge32"/>
          <attrib alias="ubntTxRate" match-group="6" type="gauge32"/>
          <attrib alias="ubntRxRate" match-group="7" type="gauge32"/>
          <attrib alias="ubntNumClients" match-group="8" type="gauge32"/>
        </attributes>
      </uri>
    </uris>
  </http-collection>

</http-datacollection-config>
